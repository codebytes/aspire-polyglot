{% extends "base.html" %}

{% block title %}Home - Flask + MongoDB Blog{% endblock %}

{% block content %}
<h2 style="margin-bottom: 30px;">Recent Posts</h2>

{% if posts %}
    {% for post in posts %}
    <article style="border-bottom: 1px solid #eee; padding: 20px 0; margin-bottom: 20px;">
        <h3 style="margin-bottom: 10px;">
            <a href="/post/{{ post._id }}" style="color: #333; text-decoration: none;">
                {{ post.title }}
            </a>
        </h3>
        
        <div class="date" style="margin-bottom: 10px;">
            By {{ post.author }} on {{ post.created_at.strftime('%B %d, %Y at %I:%M %p') }}
        </div>
        
        <div style="margin-bottom: 10px;">
            {% for tag in post.tags %}
                <a href="/tag/{{ tag }}" class="tag">{{ tag }}</a>
            {% endfor %}
        </div>
        
        <p style="margin-top: 15px; color: #555;">
            {{ post.excerpt }}
        </p>
        
        <a href="/post/{{ post._id }}" style="color: #0066cc; text-decoration: none; margin-top: 10px; display: inline-block;">
            Read more →
        </a>
    </article>
    {% endfor %}
    
    <div style="margin-top: 30px; text-align: center;">
        {% if has_prev %}
            <a href="/?page={{ page - 1 }}" style="color: #0066cc; text-decoration: none; margin-right: 15px;">
                ← Previous
            </a>
        {% endif %}
        
        <span style="color: #666;">Page {{ page }}</span>
        
        {% if has_next %}
            <a href="/?page={{ page + 1 }}" style="color: #0066cc; text-decoration: none; margin-left: 15px;">
                Next →
            </a>
        {% endif %}
    </div>
{% else %}
    <p style="color: #666; font-style: italic;">No posts yet. <a href="/new">Create the first post!</a></p>
{% endif %}
{% endblock %}
